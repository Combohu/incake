"use strict";require(["config"],function(){require(["jquery","tools","header","footer"],function(o,l,e,t){new Promise(function(e,t){o("header").load("/html/component/header.html",function(){e()}),o("footer").load("/html/component/footer.html")}).then(function(){e.nav(),e.localCity()}),l.$("#register-form").onsubmit=function(e){e=e||event;var t=l.$("#phone").value,o=l.$("#password").value,n=l.$("#email").value,a=l.$("#weixin").value,r=/^[1][3,4,5,7,8][0-9]{9}$/,i=/^.{6,}$/;if(r.test(t)||alert("用户名格式有误！请摆正您的态度，认真填写用户名！"),i.test(o)||alert("密码格式有误！请摆正您的态度，认真填写密码！"),r.test(t)&&i.test(o)){var s=new XMLHttpRequest;s.open("GET","http://localhost/java_script/incake_project/server/api/php/register.php?username="+t+"&password="+o+"&email="+n+"&weixin="+a),s.send(null),s.onreadystatechange=function(){if(4===s.readyState&&200===s.status){var e=JSON.parse(s.responseText);console.log(e),1===e.code?(alert("注册成功！"),document.cookie="username="+t+";path=/",document.cookie="password="+o+";path=/",window.location.href="http://localhost:1807/index.html"):alert("注册失败,格式有误！")}}}return e.preventDefault(),!1}})});