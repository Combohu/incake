"use strict";require(["config"],function(){require(["jquery","tools","header","footer","template"],function(s,u,t,e,i){new Promise(function(t,e){s("header").load("/html/component/header.html",function(){t()}),s("footer").load("/html/component/footer.html")}).then(function(){t.nav(),t.localCity(),t.login(),t.exit()});var o=location.search.slice(1).split("="),r={};r[o[0]]=o[1],s.ajax({method:"POST",data:r,dataType:"json",url:"http://localhost/java_script/incake_project/server/api/php/detail.php",success:function(t){if(1===t.code){var e=i("detail_template",{product:t.product});s("#baoguo").html(e),s("#add_basket").click(function(){var t=location.search.slice(1).split("=");({})[t[0]]=t[1];var e=s("#preview_big"),i=s("#introduce_tittle"),o=s("#left_content"),r=s("#spec"),a=(s("#img"),s("#newPrice")),c=[];if(u.cookie("cart")){c=JSON.parse(u.cookie("cart"));for(var n=0;n<c.length;n++)if(c[n].id==t[1]){c[n].num++;break}if(n===c.length){var l={id:t[1],pictrue:e.attr("src"),name:i.html(),shuXing:o.html(),guiGe:r.html(),price:a.html(),num:1};c.push(l),console.log(c)}}else{l={id:t[1],pictrue:e.attr("src"),name:i.html(),shuXing:o.html(),guiGe:r.html(),price:a.html(),num:1};c.push(l)}var h=JSON.stringify(c);u.cookie("cart",h,"path=/")})}}})})});